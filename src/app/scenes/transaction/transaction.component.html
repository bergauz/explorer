<app-main-top></app-main-top>
<ng-container *ngIf="(transaction | async) as tx; else transactionNotFound">
  <app-cards-holder>
    <div>
      <ul>
        <li>
          <p>Transaction hash</p>
          <b>{{tx.tx_hash}}</b>
        </li>
        <li>
          <p>Created at</p>
          <b>{{tx.created_at| date: 'dd/MM/yyyy HH:mm:ss'}} ({{tx.created_at | timeAgo }})</b>
        </li>
        <li *ngIf="!tx.to">
          <p>Contract address</p>
          <b>
            <a routerLink="/addr/{{tx.contract_address}}">{{tx.contract_address}}</a>
          </b>
        </li>
        <li>
          <p>From</p>
          <b>
            <a routerLink="/addr/{{tx.from}}">{{tx.from}}</a>
          </b>
        </li>
        <li *ngIf="tx.to">
          <p>To</p>
          <b>
            <a routerLink="/addr/{{tx.to}}">{{tx.to}}</a>
          </b>
        </li>
        <li>
          <p>Value</p>
          <b>{{tx.value | weiToGO | bigNumber}}</b>
        </li>
        <li>
          <ul>
            <li>
              <p>Gas price</p>
              <b>{{tx.gas_price| toGwei}}</b>
            </li>
            <li>
              <p>Gas limit</p>
              <b>{{tx.gas_limit | bigNumber}}</b>
            </li>
            <li>
              <p>Gas used</p>
              <b>{{tx.gas_fee/tx.gas_price | bigNumber}}</b>
            </li>
            <li>
              <p>Gas fee</p>
              <b>{{tx.gas_fee | weiToGO | bigNumber}}</b>
            </li>
          </ul>
        </li>
        <li>
          <ul>
            <li>
              <p>Block number</p>
              <b>
                <a routerLink="/block/{{tx.block_number}}">{{tx.block_number}}</a>
              </b>
            </li>
            <li>
              <p>Nonce</p>
              <b>{{tx.nonce}}</b>
            </li>
          </ul>
        </li>
        <li>
          <p>Input data</p>
          <pre>{{tx.input_data}}</pre>
        </li>
      </ul>
    </div>
  </app-cards-holder>
</ng-container>
<ng-template #transactionNotFound>
  <app-info text="Transaction not found."></app-info>
</ng-template>